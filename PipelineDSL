 job("Seed_Job") {
     parameters {
         string(name: 'TAG', defaultValue: 'v0.1a', description: 'tag for docker container')
         string(name: 'DockerCred', defaultValue: 'semyonb20', description: 'credential name from jenkins secrets that is used to push docker image')
         string(name: 'NodeJsVersion', defaultValue: 'semyonb20', description: 'Node js version supported values: https://hub.docker.com/_/node')
     }  
 
     steps {
         dockerBuildAndPublish {
             repositoryName('semyonb20/jsapp')
             additionalBuildArgs("--build-arg  NODE_VERSION=\${params.NodeJsVersion}")
             tag(${params.TAG})
             forceTag(false)
             registryCredentials(${params.DockerCred})
             forcePull(false)
             createFingerprints(false)
             skipDecorate()
         }


     }
 }